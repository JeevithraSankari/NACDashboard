@{
    Layout = null;
}
<!DOCTYPE html>
<html>
<head>
    <title>Special Approval</title>
    <style type="text/css">
        .testClassA
        {
            text-align: right;
            width: 75px;
        }
        
        .testClassB
        {
            text-align: left;
            width: 150px;
        }
        .antoHeadingFixed
        {
        	position:fixed !important;
        	z-index:1020;
        	top:60px;
        	padding-right:0px !important;
        }
    </style>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="UTF-8" />
    <link rel="icon" type="image/ico" href="../NACContent/images/Logowithoutwhitespace.ico" />
    <!-- Bootstrap -->
    <link href="../NACContent/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css"
        rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="../NACContent/css/animate.min.css" type="text/css">
    <link rel="stylesheet" href="../NACContent/css/dataTables.bootstrap.css" type="text/css">
    <link rel="stylesheet" href="../NACContent/css/chosen.min.css" type="text/css">
    <link rel="stylesheet" href="../NACContent/css/chosen-bootstrap.css" type="text/css">
    <link rel="stylesheet" href="../NACContent/css/ColVis.css" type="text/css">
    <link rel="stylesheet" href="../NACContent/css/TableTools.css" type="text/css">
    <link href="../NACContent/css/minoral.css" rel="stylesheet" type="text/css">
    <link href="../NACContent/css/datepicker3.css" rel="stylesheet" type="text/css" />
    <link href="../NACContent/js/plugins/datetimepicker/css/bootstrap-datetimepicker.css"
        rel="stylesheet" type="text/css" />
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://code.jquery.com/jquery.js" type="text/javascript"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="../NACContent/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js?lang=css&amp;skin=sons-of-obsidian"
        type="text/javascript"></script>
    <script src="../NACContent/js/plugins/jquery.nicescroll.min.js" type="text/javascript"></script>
    <script src="../NACContent/js/plugins/blockui/jquery.blockUI.js" type="text/javascript"></script>
    <script src="../NACContent/js/plugins/datatables/jquery.dataTables.min.js" type="text/javascript"></script>
    <script src="../NACContent/js/plugins/datatables/ColReorderWithResize.js" type="text/javascript"></script>
    <script src="../NACContent/js/plugins/datatables/colvis/dataTables.ColVis.min.js"
        type="text/javascript"></script>
    <script src="../NACContent/js/plugins/datatables/tabletools/ZeroClipboard.js"
        type="text/javascript"></script>
    <script src="../NACContent/js/plugins/datatables/tabletools/dataTables.TableTools.min.js"
        type="text/javascript"></script>
    <script src="../NACContent/js/plugins/datatables/dataTables.bootstrap.js" type="text/javascript"></script>
    <script src="../NACContent/js/plugins/chosen/chosen.jquery.min.js" type="text/javascript"></script>
    <script src="../NACContent/js/minoral.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="../NACContent/js/plugins/datepicker/bootstrap-datepicker.js"></script>
    <script type="text/javascript" src="../NACContent/js/plugins/momentjs/moment-with-langs.min.js"></script>
    <script type="text/javascript" src="../NACContent/js/plugins/datetimepicker/bootstrap-datetimepicker.min.js"></script>
</head>
<body class="brownish-scheme">
    <!-- Preloader -->
    <div class="mask">
        <div id="loader">
        </div>
    </div>
    <!--/Preloader -->
    <!-- Wrap all page content here -->
    <div id="wrap">
        <!-- Make page fluid -->
        <div class="row">
            <!-- Fixed navbar -->
            <div class="navbar navbar-default navbar-fixed-top" role="navigation">
                <!-- Branding -->
                <div class="navbar-header col-md-2">
                    <a class="navbar-brand" href="#"><strong>NAC</strong> <span class="divider vertical">
                    </span>Dashboard </a>
                </div>
                <!-- Branding end -->
                <!-- .nav-collapse -->
                <div class="navbar-collapse">
                    <!-- Content collapsing at 768px to sidebar -->
                    <div class="collapsing-content">
                        <!-- Quick Actions -->
                        <ul class="nav navbar-nav">
                            <li class="divided"><a href="#" class="page-refresh"><i class="fa fa-refresh"></i></a>
                                @*<span class="divider vertical"></span>*@ </li>
                            @*<li class="dropdown quick-action tasks"><a class="dropdown-toggle button" data-toggle="dropdown"
                                href="#"><i class="fa fa-tasks"></i><span class="overlay-label green">5</span> </a>
                                <ul class="dropdown-menu wide arrow green nopadding">
                                    <li>
                                        <h1>
                                            You have <strong>5</strong> new tasks</h1>
                                    </li>
                                    <li><a href="#">
                                        <div class="task-info">
                                            <div class="desc">
                                                Layout</div>
                                            <div class="percent">
                                                80%</div>
                                        </div>
                                        <div class="progress progress-striped progress-thin">
                                            <div class="progress-bar progress-bar-green" role="progressbar" aria-valuenow="40"
                                                aria-valuemin="0" aria-valuemax="100" style="width: 80%">
                                                <span class="sr-only">40% Complete (success)</span>
                                            </div>
                                        </div>
                                    </a></li>
                                    <li><a href="#">
                                        <div class="task-info">
                                            <div class="desc">
                                                Schemes</div>
                                            <div class="percent">
                                                15%</div>
                                        </div>
                                        <div class="progress progress-striped active progress-thin">
                                            <div class="progress-bar progress-bar-cyan" role="progressbar" aria-valuenow="45"
                                                aria-valuemin="0" aria-valuemax="100" style="width: 15%">
                                                <span class="sr-only">45% Complete</span>
                                            </div>
                                        </div>
                                    </a></li>
                                    <li><a href="#">
                                        <div class="task-info">
                                            <div class="desc">
                                                Forms</div>
                                            <div class="percent">
                                                5%</div>
                                        </div>
                                        <div class="progress progress-striped progress-thin">
                                            <div class="progress-bar progress-bar-orange" role="progressbar" aria-valuenow="45"
                                                aria-valuemin="0" aria-valuemax="100" style="width: 5%">
                                                <span class="sr-only">5% Complete (warning)</span>
                                            </div>
                                        </div>
                                    </a></li>
                                    <li><a href="#">
                                        <div class="task-info">
                                            <div class="desc">
                                                JavaScript</div>
                                            <div class="percent">
                                                30%</div>
                                        </div>
                                        <div class="progress progress-striped progress-thin">
                                            <div class="progress-bar progress-bar-red" role="progressbar" aria-valuenow="45"
                                                aria-valuemin="0" aria-valuemax="100" style="width: 30%">
                                                <span class="sr-only">30% Complete (danger)</span>
                                            </div>
                                        </div>
                                    </a></li>
                                    <li><a href="#">
                                        <div class="task-info">
                                            <div class="desc">
                                                Dropdowns</div>
                                            <div class="percent">
                                                60%</div>
                                        </div>
                                        <div class="progress progress-striped progress-thin">
                                            <div class="progress-bar progress-bar-amethyst" role="progressbar" aria-valuenow="45"
                                                aria-valuemin="0" aria-valuemax="100" style="width: 60%">
                                                <span class="sr-only">60% Complete</span>
                                            </div>
                                        </div>
                                    </a></li>
                                    <li><a href="#">Check all tasks <i class="fa fa-angle-right"></i></a></li>
                                </ul>
                            </li>
                            <li class="dropdown quick-action notifications"><a class="dropdown-toggle button"
                                data-toggle="dropdown" href="#"><i class="fa fa-bell"></i><span class="overlay-label orange">
                                    12</span> </a>
                                <ul class="dropdown-menu wide arrow orange nopadding">
                                    <li>
                                        <h1>
                                            You have <strong>12</strong> new notifications</h1>
                                    </li>
                                    <li><a href="#"><span class="label label-green"><i class="fa fa-user"></i></span>New
                                        user registered. <span class="small">18 mins</span> </a></li>
                                    <li><a href="#"><span class="label label-red"><i class="fa fa-power-off"></i></span>
                                        Server down. <span class="small">27 mins</span> </a></li>
                                    <li><a href="#"><span class="label label-orange"><i class="fa fa-plus"></i></span>New
                                        order. <span class="small">36 mins</span> </a></li>
                                    <li><a href="#"><span class="label label-cyan"><i class="fa fa-power-off"></i></span>
                                        Server restared. <span class="small">45 mins</span> </a></li>
                                    <li><a href="#"><span class="label label-amethyst"><i class="fa fa-power-off"></i></span>
                                        Server started. <span class="small">50 mins</span> </a></li>
                                    <li><a href="#">Check all notifications <i class="fa fa-angle-right"></i></a></li>
                                </ul>
                            </li>*@
                        </ul>
                        <!-- Quick Actions end -->
                        <!-- Search -->
                        @*<div class="search">
                <input type="text" placeholder="&#61442; Search in charts &amp; graphs...">
              </div>*@
                        <!-- Search end -->
                        <!-- User Controls -->
                        <div class="user-controls">
                            <ul>
                                <li class="dropdown messages">@* <a class="dropdown-toggle" data-toggle="dropdown" href="#">*@
                                    <span class="badge badge-red" id="user-new-messages"></span><strong>
                                        <label id="lblLoggedInby">
                                        </label>
                                    </strong>@*<span class="badge badge-red" id="user-new-messages"></span>Anto <strong>Vasanth</strong>*@
                                    @* </a>*@
                                    <div class="profile-photo">
                                        <img src="../NACContent/images/profile.jpg" alt />
                                    </div>
                                </li>
                                <li class="dropdown settings"><a class="dropdown-toggle options" data-toggle="dropdown"
                                    href="#"><i class="fa fa-cog"></i></a>
                                    <ul class="dropdown-menu arrow">
                                        <li>
                                            <h3>
                                                Color schemes:</h3>
                                            <ul id="color-schemes">
                                                <li><a href="#" class="brownish-scheme" title="Brownish"></a></li>
                                                <li><a href="#" class="darkgrey-scheme" title="Dark Grey"></a></li>
                                                <li><a href="#" class="lightgrey-scheme" title="Light Grey"></a></li>
                                                <li><a href="#" class="cyan-scheme" title="Cyan"></a></li>
                                                <li><a href="#" class="red-scheme" title="Red"></a></li>
                                                <li><a href="#" class="orange-scheme" title="Orange"></a></li>
                                                <li><a href="#" class="green-scheme" title="Green"></a></li>
                                                <li><a href="#" class="amethyst-scheme" title="Amethyst"></a></li>
                                            </ul>
                                        </li>
                                        <li class="divider"></li>
                                        <li><a href="/DashboardML"><i class="fa fa-power-off"></i>Logout</a> </li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                        <!-- User Controls end -->
                    </div>
                    <!-- /Content collapsing at 768px to sidebar -->
                    <!-- Sidebar -->
                    <!-- Sidebar end -->
                </div>
                <!--/.nav-collapse -->
            </div>
            <!-- Fixed navbar end -->
            <!-- Page content -->
            <div id="content" class="col-md-12 full-page-Anto">
                <div class="main">
                    <!-- row -->
                    <div class="row">
                        <!-- col 12 -->
                        <div class="col-md-12 antoHeadingFixed">
                            <!-- tile -->
                            <section class="tile">
                                <!-- tile header -->
                                <div class="tile-header">
                                    <h1>
                                        Special Approval <label id ="lblbranch" style="font-weight:300;"></label></h1>
                                    <div class="controls">
                                        <table>
                                            <tr>
                                                <td>
                                                    <button id="btnBranchMylapore" type="button" class="btn btn-green margin-bottom-20">
                                                        Switch To Mylapore</button>
                                                </td>
                                                <td>
                                                    <button id="btnBranchTNagar" type="button" class="btn btn-green margin-bottom-20">
                                                        Switch To TNagar</button>
                                                </td>
                                                <td>
                                                    <button id="btnChart" type="button" class="btn btn-cyan margin-bottom-20">
                                                        Report</button>
                                                </td>
                                                <td>
                                                    <button id="btnTable" type="button" class="btn btn-cyan margin-bottom-20">
                                                        Table</button>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                    @*<div class="controls">
                                  <a href="#" class="refresh"><i class="fa fa-refresh"></i></a>
                                  <a href="#" class="remove"><i class="fa fa-times"></i></a>
                                </div>*@
                                    @*<div class="controls">
                                <button type="button" class="btn btn-cyan margin-bottom-20">Report</button>
                                <button id="btnTable" type="button" class="btn btn-cyan margin-bottom-20">Table</button>
                                <button type="button" class="btn btn-cyan margin-bottom-20">Data</button>
                                </div>*@
                                </div>
                                <!-- /tile header -->
                            </section>
                            <!-- /tile -->
                        </div>
                        <!-- /col 12 -->
                        <div class="col-md-12" style="padding-top: 100px;">
                            <div class="col-md-10">
                                <table style="width: 100%;">
                                    <tr>
                                        <td>
                                            From Date :
                                        </td>
                                        <td>
                                            <input type="text" id="Fromdatepicker" name="Date" placeholder="YYYY/MM/DD" style="width: 110px;" />
                                        </td>
                                        <td>
                                            To Date :
                                        </td>
                                        <td>
                                            <input type="text" id="Todatepicker" name="Date" placeholder="YYYY/MM/DD" style="width: 110px;" />
                                        </td>
                                        <td>
                                            <button type="button" id="btnview" value="view" style="width: 70px; height: 30px;">
                                                View
                                            </button>
                                        </td>
                                        <td id="commontext" align="center" style="font-family: Book Antiqua; font-size: medium;
                                            font-weight: bold;">
                                            @* @Html.Label("SALES Vs STOCK")*@
                                            <input type="text" id="alternate" size="30" style="visibility: hidden;" />
                                            <input type="text" id="alternateto" size="30" style="visibility: hidden;" />
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <!-- col 12 -->
                        <div class="col-md-12">
                            <!-- tile -->
                            <section class="tile">
                                <!-- tile header -->
                                @*<div class="tile-header transparent">
                                <h4>
                                    <strong>Drill-down rows</strong> Datatable
                                </h4>
                            </div>*@
                                <!-- /tile header -->
                                <!-- tile body -->
                                <div class="tile-body nopadding">
                                    <div class="table-responsive">
                                        <table class="table table-datatable table-bordered" id="ApprovalDataTable">
                                            <thead>
                                                <tr>
                                                    <th class="no-sort">
                                                        EMPLOYEE
                                                    </th>
                                                    <th class="no-sort">
                                                        ITEM
                                                    </th>
                                                    <th class="no-sort">
                                                        TOTAL COUNT
                                                    </th>
                                                    <th class="no-sort">
                                                        PIECES
                                                    </th>
                                                    <th class="no-sort">
                                                        NET WEIGHT
                                                    </th>
                                                    <th class="no-sort">
                                                        AMOUNT
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                            </tbody>
                                            <tfoot>
                                                <tr>
                                                    <th align="center" style="font-weight: bolder; font-size: small; color: Maroon;">
                                                    </th>
                                                    <th align="center" style="font-weight: bolder; font-size: small; color: Maroon;">
                                                    </th>
                                                    <th align="right" style="font-weight: bolder; font-size: small; color: Maroon;">
                                                    </th>
                                                    <th align="right" style="font-weight: bolder; font-size: small; color: Maroon;">
                                                    </th>
                                                    <th align="right" style="font-weight: bolder; font-size: small; color: Maroon;">
                                                    </th>
                                                    <th align="right" style="font-weight: bolder; font-size: small; color: Maroon;">
                                                    </th>
                                                </tr>
                                            </tfoot>
                                        </table>
                                    </div>
                                </div>
                                <!-- /tile body -->
                            </section>
                            <!-- /tile -->
                        </div>
                        <!-- /col 12 -->
                    </div>
                    <!-- /row -->
                </div>
                <!-- /content container -->
            </div>
            <!-- Page content end -->
        </div>
        <!-- Make page fluid-->
    </div>
    <!-- Wrap all page content end -->
    <script type="text/javascript">
        $(function () {

            var branch = '';
            var queryStr = new Array();
            //Variable to have the usertype
            var UserType = '';

            //To get the Name of the Logged in Person - Start

            $.ajax
             ({
                 type: "POST",
                 url: "GetUserName",
                 dataType: "text",
                 success: function (dataaaa) {
                     console.log('USERNAME : ' + dataaaa);
                     $('#lblLoggedInby').html(dataaaa);
                 }
             });

            //To get the Name of the Logged in Person - End

            //To get the usertype of the Logged in Person - Start
            $.ajax
                 ({
                     type: "POST",
                     url: "GetUserType",
                     dataType: "text",
                     success: function (dataaaa) {
                         console.log('USERTYPE : ' + dataaaa);
                         UserType = dataaaa;
                     }
                 });
            //To get the usertype of the Logged in Person - End  



            // Add custom class to pagination div
            $.fn.dataTableExt.oStdClasses.sPaging = 'dataTables_paginate paging_bootstrap paging_custom';

            /******************************************************/
            /**************** DRILL DOWN DATATABLE ****************/
            /******************************************************/
            var currentDate = new Date();
            var usertyp = '';
            var queryString = new Array();
            var fromDae = new Date();
            var toDae = new Date();

            $("#Fromdatepicker").datepicker({
                endDate: currentDate,
                startDate: new Date(2014, 03, 01)
            })
            .on('changeDate', function (ev) {

                if (ev.date.valueOf() > toDae.valueOf()) {
                    alert('The From Date can not be greater then the To Date');
                    fromDae = new Date(ev.date);
                }
                else {
                    fromDae = new Date(ev.date);
                    // $("#Fromdatepicker").datepicker("setDate", fromDae);                  
                }
                console.log('fromDae :' + fromDae);
            }).attr('readonly', 'readonly');



            $("#Todatepicker").datepicker({
                endDate: currentDate,
                startDate: new Date(2014, 03, 01)
            })
            .on('changeDate', function (ev) {
                if (ev.date.valueOf() < fromDae.valueOf()) {
                    alert('The To Date can not be less then the From Date');
                    toDae = new Date(ev.date);
                }
                else {
                    toDae = new Date(ev.date);
                    //$("#Todatepicker").datepicker("setDate", toDae);                  
                }
                console.log('toDae :' + toDae);
            }).attr('readonly', 'readonly');


            if (queryString.length == 0) {
                if (window.location.search.split('?').length > 1) {
                    var params = window.location.search.split('?')[1].split('&');
                    for (var i = 0; i < params.length; i++) {
                        var key = params[i].split('=')[0];
                        var valuess = decodeURIComponent(params[i].split('=')[1]);
                        queryString[key] = valuess;
                    }
                }
            }

            if (queryString["USERTYPE"] != null) {
                usertyp = queryString["USERTYPE"].toString();
                if (usertyp == 6) {// showroom
                    fromDae.setDate(fromDae.getDate() - 1);
                    toDae.setDate(toDae.getDate() - 1);
                    $("#Fromdatepicker").datepicker("setDate", fromDae);
                    $("#Todatepicker").datepicker("setDate", toDae);
                }
                else { //management
                    fromDae = new Date(2014, 03, 01);
                    toDae.setDate(toDae.getDate() - 1);
                    $("#Fromdatepicker").datepicker("setDate", fromDae);
                    $("#Todatepicker").datepicker("setDate", toDae);
                }
                console.log('fromDae :' + fromDae);
            }

            if (queryStr.length == 0) {
                if (window.location.search.split('?').length > 1) {
                    var params = window.location.search.split('?')[1].split('&');
                    for (var i = 0; i < params.length; i++) {
                        var key = params[i].split('=')[0];
                        var valuess = decodeURIComponent(params[i].split('=')[1]);
                        queryStr[key] = valuess;
                    }
                }
            }

            if (queryStr["Branch"] != null) {
                branch = queryStr["Branch"].toString();
                console.log('branch :' + branch);
            }
            //Check for Branch and display the Switch button - Start

            if (branch == "TNagar" && usertyp != 6) {

                document.getElementById('btnBranchMylapore').style.display = 'block';
                document.getElementById('btnBranchTNagar').style.display = 'none';
                $('#lblbranch').html(' - ' + branch);
            }
            else if (branch == "Mylapore" && usertyp != 6) {
                document.getElementById('btnBranchMylapore').style.display = 'none';
                document.getElementById('btnBranchTNagar').style.display = 'block';
                $('#lblbranch').html(' - ' + branch);
            }
            else if (branch == "Mylapore" && usertyp == 6) {
                document.getElementById('btnBranchMylapore').style.display = 'none';
                document.getElementById('btnBranchTNagar').style.display = 'none';
            }

            //Check for Branch and display the Switch button - End

            //Click functionality for Switch to TNagar/Mylapore button click - Start

            var branchforswitch = '';
            $('#btnBranchTNagar').click(function () {
                branchforswitch = 'TNagar';
                window.location = ("/Home/SpecialApprovalpage?USERTYPE=" + UserType + "&Branch=" + branchforswitch);
            });

            $('#btnBranchMylapore').click(function () {
                branchforswitch = 'Mylapore';
                window.location = ("/Home/SpecialApprovalpage?USERTYPE=" + UserType + "&Branch=" + branchforswitch);
            });

            //Click functionality for Switch to TNagar/Mylapore button click - End
            //For Redirecting to  Dashboard Chart - Start
            $('#btnChart').click(function () {

                //window.location = ("/Home/Dashboard?USERTYPE=" + UserType + "&Branch=" + branch);
                if (UserType == 6 && branch == "TNagar") {
                    window.location = ("/Home/DashboardTN?USERTYPE=" + UserType + "&Branch=" + branch);
                }
                else if (UserType == 7 && branch == "TNagar") {
                    window.location = ("/Home/DashboardManagementTN?USERTYPE=" + UserType + "&Branch=" + branch);
                }
                else if (UserType == 8 && branch == "TNagar") {
                    window.location = ("/Home/DashboardMarketingTN?USERTYPE=" + UserType + "&Branch=" + branch);
                }
                else if (UserType == 9 && branch == "TNagar") {
                    window.location = ("/Home/FinanceDashboardTN?USERTYPE=" + UserType + "&Branch=" + branch);
                }
                else if (UserType == 6 && branch == "Mylapore") {
                    window.location = ("/Home/Dashboard?USERTYPE=" + UserType + "&Branch=" + branch);
                }
                else if (UserType == 7 && branch == "Mylapore") {
                    window.location = ("/Home/DashboardManagement?USERTYPE=" + UserType + "&Branch=" + branch);
                }
                else if (usertyp == 8 && branch == "Mylapore") {
                    window.location = ("/Home/DashboardMarketing?USERTYPE=" + UserType + "&Branch=" + branch);
                }
                else if (UserType == 9 && branch == "Mylapore") {
                    window.location = ("/Home/FinanceDashboard?USERTYPE=" + UserType + "&Branch=" + branch);
                }


            });
            //For Redirecting to  Dashboard Chart - End

            //For Redirecting to  Dashboard Table - Start
            $('#btnTable').click(function () {
                if (UserType == 6 && branch == "TNagar") {
                    window.location = ("/Home/DashboardTableTN?USERTYPE=" + UserType + "&Branch=" + branch);
                }
                else if (UserType == 7 && branch == "TNagar") {
                    window.location = ("/Home/ManagementDashboardTableTN?USERTYPE=" + UserType + "&Branch=" + branch);
                }
                else if (UserType == 8 && branch == "TNagar") {
                    window.location = ("/Home/MarketingDashboardTableTN?USERTYPE=" + UserType + "&Branch=" + branch);
                }
                else if (UserType == 9 && branch == "TNagar") {
                    window.location = ("/Home/FinanceDashboardTableTN?USERTYPE=" + UserType + "&Branch=" + branch);
                }
                else if (UserType == 6 && branch == "Mylapore") {
                    window.location = ("/Home/DashboardTable?USERTYPE=" + UserType + "&Branch=" + branch);
                }
                else if (UserType == 7 && branch == "Mylapore") {
                    window.location = ("/Home/ManagementDashboardTable?USERTYPE=" + UserType + "&Branch=" + branch);
                }
                else if (usertyp == 8 && branch == "Mylapore") {
                    window.location = ("/Home/MarketingDashboardTable?USERTYPE=" + UserType + "&Branch=" + branch);
                }
                else if (UserType == 9 && branch == "Mylapore") {
                    window.location = ("/Home/FinanceDashboardTable?USERTYPE=" + UserType + "&Branch=" + branch);
                }
            });


            $("#btnview").click(function () {
                var fromdate = $("#Fromdatepicker").val();
                var todate = $("#Todatepicker").val();
                if (fromdate != "" && todate != "") {
                    console.log('chking');
                    createChart();
                }
                else {
                    console.log('error');
                    alert("Error:Make sure Fromdate and Todate were selected!!!");
                    return false;
                }
            });

            function createChart() {
                var fromdate = $("#Fromdatepicker").val();
                var todate = $("#Todatepicker").val();
                var oTable = $('#ApprovalDataTable').dataTable({

                    "aoColumnDefs": [{ 'bSortable': false, 'aTargets': ["no-sort"]}],
                    "bProcessing": true,
                    "async": false,
                    "bDestroy": true,
                    "aoColumns": [
                  { "mDataProp": "EMPLOYEE", "sClass": "testClassB" },
                 { "mDataProp": "ITEMNAME", "sClass": "testClassB" },
                 { "mDataProp": "TOTAL_COUNT", "sClass": "testClassA" },
                 { "mDataProp": "PCS", "sClass": "testClassA" },
                 { "mDataProp": "NETWT", "sClass": "testClassA" },
                 { "mDataProp": "AMOUNT", "sClass": "testClassA" }
                ],
                    "sAjaxSource": "Approvallist?fromdate=" + fromdate + "&todate=" + todate + "&Branch=" + branch,
                    "fnFooterCallback": function (nRow, aaData, iStart, iEnd, aiDisplay) {
                        var TOTAL_COUNT = 0;
                        var PCS = 0;
                        var NETWT = 0;
                        var AMOUNT = 0;
                        for (var i = 0; i < aaData.length; i++) {

                            //                        var a = parseFloat(aaData[i]["AMOUNT"]);
                            //                        var b = parseFloat(AMOUNT);
                            //                        AMOUNT = a + b;
                            if (!aaData[i]["TOTAL_COUNT"]) {

                                TOTAL_COUNT += parseFloat(0);
                            }
                            else {

                                TOTAL_COUNT += parseFloat(aaData[i]["TOTAL_COUNT"]);
                            }
                            if (!aaData[i]["PCS"]) {

                                PCS += parseFloat(0);
                            }
                            else {

                                PCS += parseFloat(aaData[i]["PCS"]);
                            }
                            if (!aaData[i]["NETWT"]) {

                                NETWT += parseFloat(0);
                            }
                            else {

                                NETWT += parseFloat(aaData[i]["NETWT"]);
                            }
                            if (!aaData[i]["AMOUNT"]) {

                                AMOUNT += parseFloat(0);
                            }
                            else {

                                AMOUNT += parseFloat(aaData[i]["AMOUNT"]);
                            }

                        }

                        var nCells = nRow.getElementsByTagName('th');
                        nCells[0].innerHTML = ' ';
                        nCells[1].innerHTML = 'Total :';
                        nCells[2].innerHTML = addCommas(TOTAL_COUNT);
                        nCells[3].innerHTML = addCommas(PCS);
                        nCells[4].innerHTML = addCommas(NETWT.toFixed(3));
                        nCells[5].innerHTML = addCommas(AMOUNT.toFixed(2));
                    }

                });
            }

            var fromdate = $("#Fromdatepicker").val();
            var todate = $("#Todatepicker").val();

            var oTable03 = $('#ApprovalDataTable').dataTable({

                "aoColumnDefs": [{ 'bSortable': false, 'aTargets': ["no-sort"]}],
                "bProcessing": true,
                "async": false,
                "bDestroy": true,
                "aoColumns": [
                 { "mDataProp": "EMPLOYEE", "sClass": "testClassB" },
                 { "mDataProp": "ITEMNAME", "sClass": "testClassB" },
                 { "mDataProp": "TOTAL_COUNT", "sClass": "testClassA" },
                 { "mDataProp": "PCS", "sClass": "testClassA" },
                 { "mDataProp": "NETWT", "sClass": "testClassA" },
                 { "mDataProp": "AMOUNT", "sClass": "testClassA" }
                ],
                "sAjaxSource": "Approvallist?fromdate=" + fromdate + "&todate=" + todate + "&Branch=" + branch,
                "fnFooterCallback": function (nRow, aaData, iStart, iEnd, aiDisplay) {
                    var TOTAL_COUNT = 0;
                    var PCS = 0;
                    var NETWT = 0;
                    var AMOUNT = 0;
                    for (var i = 0; i < aaData.length; i++) {

                        //                        var a = parseFloat(aaData[i]["AMOUNT"]);
                        //                        var b = parseFloat(AMOUNT);
                        //                        AMOUNT = a + b;
                        if (!aaData[i]["TOTAL_COUNT"]) {

                            TOTAL_COUNT += parseFloat(0);
                        }
                        else {

                            TOTAL_COUNT += parseFloat(aaData[i]["TOTAL_COUNT"]);
                        }
                        if (!aaData[i]["PCS"]) {

                            PCS += parseFloat(0);
                        }
                        else {

                            PCS += parseFloat(aaData[i]["PCS"]);
                        }
                        if (!aaData[i]["NETWT"]) {

                            NETWT += parseFloat(0);
                        }
                        else {

                            NETWT += parseFloat(aaData[i]["NETWT"]);
                        }
                        if (!aaData[i]["AMOUNT"]) {

                            AMOUNT += parseFloat(0);
                        }
                        else {

                            AMOUNT += parseFloat(aaData[i]["AMOUNT"]);
                        }


                    }

                    var nCells = nRow.getElementsByTagName('th');
                    nCells[0].innerHTML = ' ';
                    nCells[1].innerHTML = 'Total :';
                    nCells[2].innerHTML = addCommas(TOTAL_COUNT);
                    nCells[3].innerHTML = addCommas(PCS);
                    nCells[4].innerHTML = addCommas(NETWT.toFixed(3));
                    nCells[5].innerHTML = addCommas(AMOUNT.toFixed(2));
                }
            });
            function addCommas(nStr) {
                nStr += '';
                x = nStr.split('.');
                x1 = x[0];
                x2 = x.length > 1 ? '.' + x[1] : '';
                var rgx = /(\d+)(\d{3})/;
                while (rgx.test(x1)) {
                    x1 = x1.replace(rgx, '$1' + ',' + '$2');
                }
                return x1 + x2;
            }
        });      
                
    </script>
</body>
</html>
